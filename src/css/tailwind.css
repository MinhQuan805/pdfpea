@import "tailwindcss";
@source "../../index.html";

@theme {
  --container-8xl: 88rem;
  --container-10xl: 104rem;
}

/* Custom button components using @apply */
.btn {
  @apply py-1 px-2 mb-1 mt-1 text-lg font-normal text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700;
}

.btn-primary {
  @apply text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800;
}

.btn-success {
  @apply text-white bg-green-600 hover:bg-green-700 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 rounded-sm px-4 py-2 cursor-pointer;
}

.btn-danger {
  @apply text-white bg-red-600 hover:bg-red-700 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800 rounded-sm px-4 py-2 cursor-pointer;
}

.btn-xs {
  @apply py-1 me-0 px-2;
}

/* Color picker styles */
.color-input-group {
  @apply flex items-center gap-2;
  width: 50%;
  display: inline-block;
  vertical-align: top;
}

.color-picker {
  @apply w-10 h-8 border border-gray-300 rounded cursor-pointer;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;

  &::-webkit-color-swatch-wrapper {
    padding: 0;
  }

  &::-webkit-color-swatch {
    border: none;
    border-radius: 4px;
  }

  &::-moz-color-swatch {
    border: none;
    border-radius: 4px;
  }
}

.color-text {
  @apply flex-1 px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

.transparent-btn {
  @apply w-6 h-6 flex items-center justify-center text-gray-600 hover:text-red-600 hover:bg-gray-100 rounded transition-colors;

  &:hover {
    @apply bg-red-50 text-red-600;
  }
}

/* Dropdown menu styles */
.dropdown {
  @apply relative inline-block;
}

.dropdown-toggle {
  @apply py-1.5 px-3 text-xs font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 cursor-pointer;
}

.dropdown-menu {
  @apply absolute left-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50 opacity-0 invisible transform scale-95 transition-all duration-150 ease-in-out origin-top-left;
}

.dropdown-menu.show {
  @apply opacity-100 visible scale-100;
}

.dropdown-item {
  @apply block w-full px-4 py-2 text-xs text-gray-700 hover:bg-gray-100 hover:text-blue-700 cursor-pointer border-none bg-transparent text-left;

  &:first-child {
    @apply rounded-t-lg;
  }

  &:last-child {
    @apply rounded-b-lg;
  }
}

.dropdown-divider {
  @apply border-t border-gray-200 my-1;
}

/* Toast Notification styles */
.toast-notification {
  @apply fixed top-4 right-10 rounded-lg shadow-lg cursor-pointer transform transition-all duration-300 ease-in-out;
  z-index: 99999;
  min-width: 320px;
  max-width: 448px;
  animation: slideInFromRight 0.3s ease-out;

  &:hover {
    @apply shadow-xl;
  }
}

.toast-content {
  @apply flex items-center p-4 rounded-lg;
}

.toast-icon {
  @apply flex-shrink-0 w-5 h-5 mr-3;
}

.toast-message {
  @apply flex-1 text-sm font-medium;
}

.toast-close {
  @apply flex-shrink-0 ml-3 p-1 rounded-full hover:bg-black transition-colors duration-200;

  i {
    @apply w-3 h-3 text-xs;
  }
}

/* Toast type variants */
.toast-success {
  @apply bg-green-50 border border-green-200;

  .toast-content {
    @apply text-green-800;
  }

  .toast-icon {
    @apply text-green-600;
  }
}

.toast-error {
  @apply bg-red-50 border border-red-200;

  .toast-content {
    @apply text-red-800;
  }

  .toast-icon {
    @apply text-red-600;
  }
}

.toast-warning {
  @apply bg-yellow-50 border border-yellow-200;

  .toast-content {
    @apply text-yellow-800;
  }

  .toast-icon {
    @apply text-yellow-600;
  }
}

.toast-info {
  @apply bg-blue-50 border border-blue-200;

  & .toast-content {
    @apply text-blue-800;
  }

  & .toast-icon {
    @apply text-blue-600;
  }
}

/* Toast animations */
@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* File List */
.files-list {
  @apply mt-6;

  h4 {
    @apply m-0 mb-3 text-gray-800 text-lg font-semibold;
  }
}

.files-container {
  @apply border border-gray-200 rounded-lg overflow-hidden;
}

.file-item {
  @apply flex items-center p-3 bg-white border-b border-gray-100 cursor-move transition-colors duration-200;
  &:last-child {
    @apply border-b-0;
  }

  &:hover {
    @apply bg-gray-50;
  }
}

.file-drag-handle {
  @apply text-gray-500 mr-3 text-base;
}

.file-info {
  @apply flex-1 flex items-center gap-3;

  i {
    @apply text-2xl text-red-600;
  }

  .file-details {
    @apply flex-1;

    .file-name {
      @apply block text-sm text-gray-800 font-medium;
    }

    .file-size {
      @apply text-xs text-gray-600;
    }
  }
}

.reorder-hint {
  @apply mt-3 text-xs text-gray-600 flex items-center gap-1.5;
}

.progress {
  @apply mt-6;

  p {
    @apply text-center text-gray-600 text-sm m-0;
  }

  .progress-bar {
    @apply w-full h-2 bg-gray-200 rounded overflow-hidden mb-2;

    .progress-fill {
      @apply h-full bg-linear-to-r from-cyan-500 to-blue-500 transition-all duration-300;
    }
  }
}

.merge-error {
  @apply mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded-lg text-yellow-800 text-base flex items-center gap-2;
}

/* Dialog styles */
.dialog-overlay {
  @apply fixed inset-0 bg-black/50 flex justify-center items-center z-[10000];
}

.dialog-container {
  @apply bg-white rounded-lg shadow-[0_4px_20px_rgba(0,0,0,0.15)] w-[90%] max-w-[500px] max-h-[80vh] overflow-hidden flex flex-col;
}

.dialog-header {
  @apply flex justify-between items-center p-5 border-b border-[#e0e0e0] bg-[#f8f9fa];

  h3 {
    @apply m-0 text-[#333] text-[18px] font-semibold;
  }
}

.dialog-content {
  @apply flex-1 p-5 overflow-y-auto;
}

.dialog-tabs {
  @apply flex gap-1 mb-5 border-b border-[#e0e0e0];
}

.dialog-body {
  @apply p-6 flex-1 overflow-y-auto;
}

.dialog-footer {
  @apply flex justify-end gap-3 p-5 border-t border-[#e0e0e0] bg-[#f8f9fa];
}

/* Form Components */
.input-label {
  @apply flex items-center gap-2 font-semibold text-gray-700 mb-2 text-sm;

  i {
    @apply text-blue-500 text-base;
  }
}

.input-field {
  @apply w-full p-2.5 border border-gray-300 rounded text-sm mb-3;

  &:focus {
    @apply outline-none border-[#007acc] shadow-[0_0_0_2px_rgba(0,122,204,0.2)];
  }
}

.input-hint {
  @apply mt-2 text-sm text-gray-500 italic;
}

.form-select {
  @apply w-full py-3 px-4 pr-5 border border-gray-300 rounded text-[15px] font-semibold text-gray-800 cursor-pointer transition-all duration-200;

  &:focus {
    @apply outline-none border-[#007acc] shadow-[0_0_0_2px_rgba(0,122,204,0.2)];
  }
}

.pdf-organizer {
  @apply bg-transparent;

  .organize-body {
    @apply flex relative w-full p-4 pt-0;
    height: calc(100vh - 60px);
  }

  .pages-grid {
    @apply grid gap-5 w-full;
  }

  .page-card-wrapper {
    @apply relative flex items-center;
  }

  .page-card {
    @apply relative bg-white border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 flex-1;

    &:hover {
      @apply shadow-md;

      .page-hover-actions {
        @apply opacity-100 pointer-events-auto;
      }
    }

    &.selected {
      @apply shadow-lg ring-4;
    }

    .page-thumbnail {
      @apply relative mb-4 bg-gray-50 rounded overflow-hidden flex items-center justify-center aspect-[1/1.414];

      .page-canvas {
        @apply max-w-full max-h-full object-contain;
      }

      .page-number-badge {
        @apply absolute top-2 right-2 text-white px-2 py-1 rounded text-sm font-semibold;
      }
    }

    .current-number {
      @apply absolute bottom-2 left-1/2 -translate-x-1/2 text-gray-700 rounded text-xs font-semibold;
    }

    .page-hover-actions {
      @apply absolute -top-4 right-1 flex opacity-0 pointer-events-none transition-opacity duration-200 ease-in z-10;

      .page-action-btn {
        @apply bg-white text-gray-700 border border-gray-300 rounded-sm w-7 h-7 flex items-center justify-center cursor-pointer transition-all duration-200 shadow-sm;

        &:hover {
          @apply bg-gray-100 border-gray-400 shadow-md;
        }

        &:active {
          @apply scale-95;
        }

        i {
          @apply text-sm;
        }
      }
    }
  }

  .add-blank-page-btn {
    @apply text-white rounded-full w-7 h-7 ml-4 flex items-center justify-center cursor-pointer transition-all shadow-md opacity-0 pointer-events-none scale-100;
  }

  .add-blank-page-btn i {
    @apply text-base;
  }

  .page-card-wrapper:hover .add-blank-page-btn {
    @apply opacity-100 pointer-events-auto;
  }

  .page-card-wrapper .add-blank-page-btn:hover {
    @apply shadow-lg scale-110;
  }

  .page-card-wrapper .add-blank-page-btn:active {
    @apply scale-95;
  }
}

.preview-modal-overlay {
  @apply fixed inset-0 z-10002 flex items-center justify-center bg-black/85 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out];

  .preview-close-btn {
    @apply absolute top-4 right-6 text-white text-4xl cursor-pointer hover:text-gray-300 transition-colors z-10002 bg-transparent border-none;
  }

  .preview-content {
    @apply flex items-center justify-center w-full h-full p-4 relative;

    .preview-canvas-wrapper {
      @apply relative shadow-2xl max-h-[95vh] max-w-[95vw] rounded-sm overflow-hidden flex flex-col items-center;

      .preview-image-container {
        @apply relative;
      }

      .preview-canvas {
        @apply block object-contain max-h-[85vh] w-auto;
      }
    }
  }

  .zoom-lens {
    @apply absolute border-2 border-white cursor-none z-10 shadow-[0_0_0_2px_rgba(0,0,0,0.3)] pointer-events-none;
  }

  .zoom-result {
    @apply fixed border-2 border-white w-[200px] h-[200px] z-100 rounded shadow-2xl pointer-events-none;
  }

  .preview-controls {
    @apply bg-white px-4 py-2 mt-2 text-center text-sm font-medium flex items-center justify-center gap-2 rounded-xs;

    .preview-control-btn {
      @apply bg-transparent text-black w-8 h-8 rounded flex items-center justify-center cursor-pointer transition-all border-none hover:bg-gray-100;

      &:disabled {
        @apply opacity-30 cursor-not-allowed hover:bg-transparent;
      }
      &.active {
        @apply bg-gray-200 hover:bg-gray-300;
      }
    }

    .preview-divider {
      @apply w-px h-6 bg-gray-300 mx-1;
    }
    .preview-page-info {
      @apply text-sm font-medium min-w-[60px] text-center;
    }
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@media (max-width: 768px) {
  .pages-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)) !important;
    gap: 12px;
  }

  .organize-body {
    padding: 0.5rem;
  }
}

@media (max-width: 768px) {
  .pages-grid {
    @apply grid-cols-[repeat(auto-fill,minmax(150px,1fr))]! gap-3;
  }

  .organize-body {

    @apply p-2;
  }
}
